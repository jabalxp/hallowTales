<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz de Terror - HallowTales</title>
    <link rel="stylesheet" href="css/style.css">
    <!-- Tailwind CSS for modern styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        border: 'hsl(var(--border))',
                        input: 'hsl(var(--input))',
                        ring: 'hsl(var(--ring))',
                        background: 'hsl(var(--background))',
                        foreground: 'hsl(var(--foreground))',
                        primary: {
                            DEFAULT: 'hsl(var(--primary))',
                            foreground: 'hsl(var(--primary-foreground))'
                        },
                        secondary: {
                            DEFAULT: 'hsl(var(--secondary))',
                            foreground: 'hsl(var(--secondary-foreground))'
                        },
                        destructive: {
                            DEFAULT: 'hsl(var(--destructive))',
                            foreground: 'hsl(var(--destructive-foreground))'
                        },
                        muted: {
                            DEFAULT: 'hsl(var(--muted))',
                            foreground: 'hsl(var(--muted-foreground))'
                        },
                        accent: {
                            DEFAULT: 'hsl(var(--accent))',
                            foreground: 'hsl(var(--accent-foreground))'
                        },
                        card: {
                            DEFAULT: 'hsl(var(--card))',
                            foreground: 'hsl(var(--card-foreground))'
                        }
                    }
                }
            }
        }
    </script>
    <style>
        :root {
            --background: 0 0% 3.9%;
            --foreground: 0 0% 98%;
            --card: 0 0% 6%;
            --card-foreground: 0 0% 98%;
            --primary: 60 9.1% 97.8%;
            --primary-foreground: 24 9.8% 10%;
            --secondary: 12 6.5% 15.1%;
            --secondary-foreground: 60 9.1% 97.8%;
            --muted: 12 6.5% 15.1%;
            --muted-foreground: 24 5.4% 63.9%;
            --accent: 12 6.5% 15.1%;
            --accent-foreground: 60 9.1% 97.8%;
            --destructive: 0 62.8% 30.6%;
            --destructive-foreground: 60 9.1% 97.8%;
            --border: 12 6.5% 15.1%;
            --input: 12 6.5% 15.1%;
            --ring: 24 5.7% 82.9%;
            --radius: 0.5rem;
        }
    </style>
    <!-- Vercel Analytics -->
    <script src="js/analytics.js"></script>
</head>
<body class="dark bg-background text-foreground antialiased">
    <!-- Modern Header with Shadcn-inspired design -->
    <header class="sticky top-0 z-50 w-full border-b border-border/40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex h-16 items-center justify-between">
                <div class="flex items-center gap-2">
                    <span class="text-3xl">ğŸƒ</span>
                    <h1 class="text-2xl font-bold bg-gradient-to-r from-orange-500 via-red-500 to-purple-600 bg-clip-text text-transparent">
                        HallowTales
                    </h1>
                </div>
                <nav class="hidden md:flex items-center gap-1">
                    <a href="index.html" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2">
                        ğŸ  InÃ­cio
                    </a>
                    <a href="livros.html" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2">
                        ğŸ“š Livros
                    </a>
                    <a href="cidades.html" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2">
                        ğŸ›ï¸ Cidades
                    </a>
                    <a href="filmes.html" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2">
                        ğŸ¬ Filmes & SÃ©ries
                    </a>
                    <a href="jogos.html" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2">
                        ğŸ® Jogos
                    </a>
                    <a href="quiz.html" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2">
                        â“ Quiz
                    </a>
                    <a href="favoritos.html" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2">
                        â¤ï¸ Favoritos
                    </a>
                </nav>
                <!-- Mobile menu button -->
                <button id="mobile-menu-btn" class="md:hidden inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground h-10 w-10">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="4" x2="20" y1="12" y2="12"></line>
                        <line x1="4" x2="20" y1="6" y2="6"></line>
                        <line x1="4" x2="20" y1="18" y2="18"></line>
                    </svg>
                </button>
            </div>
        </div>
        <!-- Mobile menu -->
        <div id="mobile-menu" class="hidden md:hidden border-t border-border/40">
            <nav class="container mx-auto px-4 py-2 flex flex-col gap-1">
                <a href="index.html" class="px-4 py-2 text-sm font-medium hover:bg-accent rounded-md">ğŸ  InÃ­cio</a>
                <a href="livros.html" class="px-4 py-2 text-sm font-medium hover:bg-accent rounded-md">ğŸ“š Livros</a>
                <a href="cidades.html" class="px-4 py-2 text-sm font-medium hover:bg-accent rounded-md">ğŸ›ï¸ Cidades</a>
                <a href="filmes.html" class="px-4 py-2 text-sm font-medium hover:bg-accent rounded-md">ğŸ¬ Filmes & SÃ©ries</a>
                <a href="jogos.html" class="px-4 py-2 text-sm font-medium hover:bg-accent rounded-md">ğŸ® Jogos</a>
                <a href="quiz.html" class="px-4 py-2 text-sm font-medium bg-primary text-primary-foreground rounded-md">â“ Quiz</a>
                <a href="favoritos.html" class="px-4 py-2 text-sm font-medium hover:bg-accent rounded-md">â¤ï¸ Favoritos</a>
            </nav>
        </div>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Hero Section -->
        <div class="relative overflow-hidden rounded-lg border border-border bg-card text-card-foreground shadow-xl mb-8">
            <div class="absolute inset-0 bg-gradient-to-r from-orange-500/20 via-red-500/20 to-purple-600/20"></div>
            <div class="relative p-8 text-center">
                <h2 class="text-4xl md:text-5xl font-bold bg-gradient-to-r from-orange-500 via-red-500 to-purple-600 bg-clip-text text-transparent mb-4">
                    â“ Quiz de Terror
                </h2>
                <p class="text-lg text-muted-foreground">
                    Responda Ã s perguntas e descubra o filme perfeito para vocÃª!
                </p>
            </div>
        </div>

        <section id="quiz">
            
            <div id="quiz-container">
                <div id="quiz-progress">
                    <div id="progress-bar"></div>
                </div>
                
                <div id="quiz-content">
                    <!-- As perguntas serÃ£o inseridas aqui -->
                </div>

                <div id="quiz-resultado" style="display: none;">
                    <!-- O resultado serÃ¡ inserido aqui -->
                </div>
            </div>
        </section>
    </main>

    <!-- Modern Footer -->
    <footer class="border-t border-border/40 bg-muted/50 py-8 mt-12">
        <div class="container mx-auto px-4 text-center">
            <div class="mb-4 text-2xl">
                ğŸ•·ï¸ ğŸ•¸ï¸ ğŸ¦‡ ğŸƒ ğŸ¦‡ ğŸ•¸ï¸ ğŸ•·ï¸
            </div>
            <p class="text-sm text-muted-foreground mb-2">
                &copy; 2025 HallowTales. Todos os direitos reservados.
            </p>
            <p class="text-sm text-muted-foreground">
                ğŸ‘» Feliz Halloween! Que seus pesadelos sejam aterrorizantes! ğŸ‘»
            </p>
        </div>
    </footer>

    <script src="js/favoritos.js"></script>
    
    <!-- Mobile Menu Toggle -->
    <script>
        document.getElementById('mobile-menu-btn')?.addEventListener('click', () => {
            const menu = document.getElementById('mobile-menu');
            if (menu) {
                menu.classList.toggle('hidden');
            }
        });
    </script>

    <script>
        const quizData = {
            perguntas: [
                {
                    pergunta: "Qual Ã© o seu medo favorito?",
                    opcoes: [
                        { texto: "ğŸ‘» Fantasmas e entidades sobrenaturais", pontos: { sobrenatural: 3 } },
                        { texto: "ğŸ”ª Serial killers e assassinos", pontos: { slasher: 3 } },
                        { texto: "ğŸ§  Perder a sanidade", pontos: { psicologico: 3 } },
                        { texto: "ğŸ‘½ Criaturas e alienÃ­genas", pontos: { criatura: 3 } }
                    ]
                },
                {
                    pergunta: "Qual ambiente te assusta mais?",
                    opcoes: [
                        { texto: "ğŸšï¸ Casa ou hotel abandonado", pontos: { sobrenatural: 2, psicologico: 1 } },
                        { texto: "ğŸŒ² Floresta isolada", pontos: { slasher: 2, criatura: 1 } },
                        { texto: "ğŸ¥ Hospital ou asilo", pontos: { psicologico: 2, sobrenatural: 1 } },
                        { texto: "ğŸš€ EspaÃ§o ou lugar claustrofÃ³bico", pontos: { criatura: 3 } }
                    ]
                },
                {
                    pergunta: "VocÃª prefere terror...",
                    opcoes: [
                        { texto: "ğŸ“– Com histÃ³ria profunda e simbolismo", pontos: { psicologico: 3 } },
                        { texto: "ğŸ˜± Com muitos sustos e jump scares", pontos: { sobrenatural: 2, slasher: 1 } },
                        { texto: "ğŸ©¸ Gore e violÃªncia explÃ­cita", pontos: { slasher: 3 } },
                        { texto: "ğŸ˜° TensÃ£o constante e atmosfera", pontos: { criatura: 2, psicologico: 1 } }
                    ]
                },
                {
                    pergunta: "Qual dÃ©cada de filmes vocÃª prefere?",
                    opcoes: [
                        { texto: "ğŸ“¼ Anos 70-80 (clÃ¡ssicos)", pontos: { slasher: 2, classico: 3 } },
                        { texto: "ğŸ“¹ Anos 90-2000", pontos: { sobrenatural: 1, classico: 2 } },
                        { texto: "ğŸ¬ Anos 2010+ (modernos)", pontos: { psicologico: 2, moderno: 3 } },
                        { texto: "ğŸ¤· NÃ£o importa, se for bom!", pontos: { sobrenatural: 1, criatura: 1 } }
                    ]
                },
                {
                    pergunta: "O que te deixa mais desconfortÃ¡vel?",
                    opcoes: [
                        { texto: "ğŸ¤¯ NÃ£o saber o que Ã© real", pontos: { psicologico: 3 } },
                        { texto: "ğŸ˜ˆ PossessÃµes demonÃ­acas", pontos: { sobrenatural: 3 } },
                        { texto: "ğŸ”ª PerseguiÃ§Ã£o implacÃ¡vel", pontos: { slasher: 3 } },
                        { texto: "ğŸ¦  ContÃ¡gio ou infestaÃ§Ã£o", pontos: { criatura: 3 } }
                    ]
                },
                {
                    pergunta: "Como vocÃª gosta de assistir filmes de terror?",
                    opcoes: [
                        { texto: "ğŸ‘¥ Com amigos gritando juntos", pontos: { slasher: 2, sobrenatural: 1 } },
                        { texto: "ğŸ§˜ Sozinho, absorvendo a atmosfera", pontos: { psicologico: 3 } },
                        { texto: "ğŸ’‘ Com alguÃ©m para se agarrar", pontos: { sobrenatural: 2 } },
                        { texto: "ğŸ“± Com as luzes acesas e o celular perto", pontos: { criatura: 1 } }
                    ]
                },
                {
                    pergunta: "Qual elemento sobrenatural te intriga mais?",
                    opcoes: [
                        { texto: "ğŸ‘ï¸ VisÃµes e premoniÃ§Ãµes", pontos: { psicologico: 2, sobrenatural: 1 } },
                        { texto: "ğŸ§¿ MaldiÃ§Ãµes e rituais", pontos: { sobrenatural: 3 } },
                        { texto: "ğŸ§¬ MutaÃ§Ãµes e transformaÃ§Ãµes", pontos: { criatura: 3 } },
                        { texto: "â° Loops temporais", pontos: { psicologico: 2 } }
                    ]
                },
                {
                    pergunta: "Final favorito:",
                    opcoes: [
                        { texto: "ğŸ˜± Twist mind-blowing", pontos: { psicologico: 3 } },
                        { texto: "ğŸ˜ˆ O mal vence", pontos: { sobrenatural: 2, slasher: 1 } },
                        { texto: "ğŸ˜Œ Protagonista sobrevive", pontos: { criatura: 2 } },
                        { texto: "ğŸ˜° Final aberto e ambÃ­guo", pontos: { psicologico: 2, moderno: 1 } }
                    ]
                }
            ],
            resultados: {
                sobrenatural: {
                    filme: "O Exorcista (1973)",
                    poster: "https://image.tmdb.org/t/p/w500/5x0CeVHJI8tcDx8tUUwYHQSNILq.jpg",
                    descricao: "VocÃª aprecia o terror sobrenatural clÃ¡ssico! O Exorcista Ã© perfeito para vocÃª - possessÃ£o demonÃ­aca, atmosfera opressiva e momentos inesquecÃ­veis. Um dos filmes mais assustadores jÃ¡ feitos.",
                    alternativas: ["InvocaÃ§Ã£o do Mal", "A Bruxa", "HereditÃ¡rio"]
                },
                slasher: {
                    filme: "Halloween (1978)",
                    poster: "https://m.media-amazon.com/images/M/MV5BNzk1OGU2NmMtNTdhZC00NjdlLWE5YTMtZTQ0MGExZTQzOGQyXkEyXkFqcGdeQXVyMTQxNzMzNDI@._V1_FMjpg_UX1000_.jpg",
                    descricao: "VocÃª adora a perseguiÃ§Ã£o e tensÃ£o dos slashers! Halloween criou o gÃªnero com Michael Myers, o Shape. Assassinatos, suspense e o terror de ser caÃ§ado. Puro clÃ¡ssico!",
                    alternativas: ["PÃ¢nico", "Sexta-Feira 13", "A Hora do Pesadelo"]
                },
                psicologico: {
                    filme: "O Iluminado (1980)",
                    poster: "https://m.media-amazon.com/images/M/MV5BZWFlYmY2MGEtZjVkYS00YzU4LTg0YjQtYzY1ZGE3NTA5NGQxXkEyXkFqcGdeQXVyMTQxNzMzNDI@._V1_FMjpg_UX1000_.jpg",
                    descricao: "VocÃª aprecia o terror que mexe com a mente! O Iluminado de Kubrick Ã© uma obra-prima do terror psicolÃ³gico. Loucura, isolamento e simbolismo profundo. 'All work and no play...'",
                    alternativas: ["Cisne Negro", "Babadook", "Midsommar"]
                },
                criatura: {
                    filme: "Alien: O 8Âº Passageiro (1979)",
                    poster: "https://m.media-amazon.com/images/M/MV5BOGQzZTBjMjQtOTVmMS00NGE5LWEyYmMtOGQ1ZGZjNmRkYjFhXkEyXkFqcGdeQXVyMjUzOTY1NTc@._V1_FMjpg_UX1000_.jpg",
                    descricao: "VocÃª ama o terror de criaturas! Alien Ã© o terror sci-fi definitivo. O Xenomorfo Ã© implacÃ¡vel, a nave Ã© claustrofÃ³bica, e o medo Ã© constante. No espaÃ§o, ninguÃ©m pode ouvir vocÃª gritar!",
                    alternativas: ["A Coisa", "O Massacre da Serra ElÃ©trica", "Um Lugar Silencioso"]
                }
            }
        };

        let respostas = {
            sobrenatural: 0,
            slasher: 0,
            psicologico: 0,
            criatura: 0,
            classico: 0,
            moderno: 0
        };
        let perguntaAtual = 0;

        function renderPergunta() {
            const pergunta = quizData.perguntas[perguntaAtual];
            const container = document.getElementById('quiz-content');
            
            container.innerHTML = `
                <div class="quiz-question">
                    <h3>Pergunta ${perguntaAtual + 1} de ${quizData.perguntas.length}</h3>
                    <p class="question-text">${pergunta.pergunta}</p>
                    <div class="quiz-options">
                        ${pergunta.opcoes.map((opcao, index) => `
                            <button class="quiz-option" data-index="${index}">
                                ${opcao.texto}
                            </button>
                        `).join('')}
                    </div>
                </div>
            `;

            // Atualiza barra de progresso
            const progress = ((perguntaAtual) / quizData.perguntas.length) * 100;
            document.getElementById('progress-bar').style.width = progress + '%';

            // Event listeners
            document.querySelectorAll('.quiz-option').forEach(btn => {
                btn.addEventListener('click', () => {
                    const index = parseInt(btn.getAttribute('data-index'));
                    responder(index);
                });
            });
        }

        function responder(opcaoIndex) {
            const pergunta = quizData.perguntas[perguntaAtual];
            const opcao = pergunta.opcoes[opcaoIndex];

            // Adiciona pontos
            Object.keys(opcao.pontos).forEach(categoria => {
                respostas[categoria] += opcao.pontos[categoria];
            });

            perguntaAtual++;

            if (perguntaAtual < quizData.perguntas.length) {
                renderPergunta();
            } else {
                mostrarResultado();
            }
        }

        function mostrarResultado() {
            // Determina categoria vencedora
            const categorias = ['sobrenatural', 'slasher', 'psicologico', 'criatura'];
            let categoriaVencedora = categorias[0];
            let maiorPontuacao = respostas[categorias[0]];

            categorias.forEach(cat => {
                if (respostas[cat] > maiorPontuacao) {
                    maiorPontuacao = respostas[cat];
                    categoriaVencedora = cat;
                }
            });

            const resultado = quizData.resultados[categoriaVencedora];
            const container = document.getElementById('quiz-resultado');
            
            document.getElementById('quiz-content').style.display = 'none';
            container.style.display = 'block';
            document.getElementById('progress-bar').style.width = '100%';

            container.innerHTML = `
                <div class="quiz-resultado-card">
                    <h3>ğŸ¬ Seu Filme Perfeito:</h3>
                    <div class="resultado-filme">
                        <img src="${resultado.poster}" alt="${resultado.filme}" style="max-width: 300px; border-radius: 10px; box-shadow: 0 8px 25px rgba(0, 255, 0, 0.3);">
                        <div class="resultado-info">
                            <h2 style="color: #00ff00; margin: 20px 0;">${resultado.filme}</h2>
                            <p style="font-size: 1.1rem; line-height: 1.8;">${resultado.descricao}</p>
                            <h4 style="color: #00ffff; margin-top: 20px;">Outras recomendaÃ§Ãµes:</h4>
                            <ul style="color: #d0d0d0; font-size: 1.05rem;">
                                ${resultado.alternativas.map(alt => `<li>${alt}</li>`).join('')}
                            </ul>
                        </div>
                    </div>
                    <div class="quiz-actions">
                        <button onclick="refazerQuiz()" class="btn-refazer">ğŸ”„ Refazer Quiz</button>
                        <button onclick="compartilhar()" class="btn-compartilhar">ğŸ“¤ Compartilhar Resultado</button>
                    </div>
                </div>
            `;
        }

        function refazerQuiz() {
            respostas = {
                sobrenatural: 0,
                slasher: 0,
                psicologico: 0,
                criatura: 0,
                classico: 0,
                moderno: 0
            };
            perguntaAtual = 0;
            document.getElementById('quiz-content').style.display = 'block';
            document.getElementById('quiz-resultado').style.display = 'none';
            renderPergunta();
        }

        function compartilhar() {
            const texto = 'Descobri qual filme de terror devo assistir no HallowTales! FaÃ§a o quiz vocÃª tambÃ©m! ğŸƒğŸ‘»';
            if (navigator.share) {
                navigator.share({
                    title: 'Quiz de Terror - HallowTales',
                    text: texto,
                    url: window.location.href
                });
            } else {
                alert('Compartilhe este resultado com seus amigos! ğŸ‘»');
            }
        }

        // Inicializa quiz
        document.addEventListener('DOMContentLoaded', () => {
            renderPergunta();
        });
    </script>
</body>
</html>
